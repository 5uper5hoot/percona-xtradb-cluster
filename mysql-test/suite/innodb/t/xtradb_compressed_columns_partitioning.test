--source include/have_innodb.inc
--source include/have_partition.inc

#
# Bug lp:1653104 "Compression dictionaries are not being used in partitioned tables"
#
CREATE COMPRESSION_DICTIONARY numbers ('one' 'two' 'three');

CREATE TABLE t1 (
  id BIGINT UNSIGNED NOT NULL,
  a VARCHAR(250) COLUMN_FORMAT COMPRESSED WITH COMPRESSION_DICTIONARY numbers DEFAULT NULL
) ENGINE=InnoDB
PARTITION BY RANGE (id) (
 PARTITION p1 VALUES LESS THAN (100) ENGINE = InnoDB,
 PARTITION p2 VALUES LESS THAN MAXVALUE ENGINE = InnoDB
);

SHOW CREATE TABLE t1;

DROP TABLE t1;
DROP COMPRESSION_DICTIONARY numbers;
