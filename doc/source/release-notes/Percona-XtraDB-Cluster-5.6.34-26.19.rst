.. rn:: 5.6.34-26.19

===================================
Percona XtraDB Cluster 5.6.34-26.19
===================================

Percona is glad to announce the release of
|Percona XtraDB Cluster| 5.6.34-26.19 on December 14, 2016.
Binaries are available from the `downloads section
<http://www.percona.com/downloads/Percona-XtraDB-Cluster-56/>`_
or from our :ref:`software repositories <installation>`.

Percona XtraDB Cluster 5.6.34-26.19 is now the current release,
based on the following:

* `Percona Server 5.6.34-79.1 <http://www.percona.com/doc/percona-server/5.6/release-notes/Percona-Server-5.6.34-79.1.html>`_

* Galera Replication library 3.19

* wsrep API version 26

All Percona software is open-source and free.
Details of this release can be found in the
`5.6.34-26.19 milestone on Launchpad
<https://launchpad.net/percona-xtradb-cluster/+milestone/5.6.34-26.19>`_.

Deprecated
==========

* The following encryption modes:

  * ``encrypt=1``
  * ``encrypt=2``
  * ``encrypt=3``

  The default is ``encrypt=0`` with encryption disabled.
  The recommended mode now is the new ``encrypt=4``,
  which uses SSL files generated by MySQL.

  For more information, see :ref:`encrypt-traffic`.

New Features
============

* PXC-713 Added ``encrypt=4`` mode for SST encryption
  that uses SSL files generated by MySQL.
  Modes ``1``, ``2``, and ``3`` are now deprecated.

Fixed Bugs
==========

* PXC-252 / PXC-426 Optimized IST donor selection logic to avoid SST.
  Child processes are now cleaned-up and node state is resumed if SST fails.

* PXC-701 Added ``init.ok`` to the list of files that do not get removed during SST.

* PXC-703 Fixed error with ASIO library when building Galera.

* PXC-707 Fixed stalling of DML workload on slave node
  caused by ``FLUSH TABLE`` executed on master.

  For more information, see :bug:`1629296`.

* PXC-715 Fixed ``super_read_only`` to not apply to Galera replication applier.

  For more information, see :bug:`1634295`.

* PXC-716 Redirected ``netcat`` output to ``stdout`` to avoid it in the log.

  For more information, see :bug:`1625968`.

* PXC-717 Enabled replication of ``ALTER USER`` statements.

  For more information, see :bug:`1376269`.

* PXC-720 Changed the :variable:`wsrep_max_ws_rows` variable
  to ignore non-replicated write-sets generated by DML action
  on temporary tables (explict or implicit).

  For more information, see :bug:`1638138`.

* PXC-722 Fixed SST to fail with an error if SSL is not supported by ``socat``,
  instead of switching to unencrypted mode.

* PXC-723 Fixed SST with SSL to auto-generate a 2048-bit :file:`dhparams` file
  for versions of ``socat`` before 1.7.3.
  These older versions use 512-bit :file:`dhparams` file by default
  that get rejected by newer clients with ``dh key too small`` error.

* PXC-731 Changed the :variable:`wsrep_cluster_name` variable to read-only,
  because changing it dynamically leads to high overhead.

  For more information, see :bug:`1620439`.

* PXC-732 Improved error message when any of the SSL files required for SST
  are missing.

* PXC-735 Fixed SST to fail with an error when ``netcat`` is used
  (:option:`transferfmt` set to ``nc``) with SSL encryption
  (:option:`encrypt` set to ``2``, ``3`` or ``4``),
  instead of silently switching to unencrypted mode.

* PXC-739 Fixed faulty switch case that caused cluster to stall
  when the :variable:`repl.commit_order` variable was set to ``2``
  (``LOCAL_OOOC`` mode that should allow out-of-order committing
  for local transactions).
